import{d as U,A as z,B as R,r as f,Q as $,c as p,w as l,u as e,a as m,b as a,I as C,h as v,E as x,e as V,f as r,z as _,i as d,k as y,G as N,H as h,m as H,q as E,y as B,J as T,S as b,v as L,x as Y,L as D,T as A,U as G,V as j,j as q,R as F}from"./index-DvYHsU7w.js";import{u as J}from"./index.esm-BA1fDT99.js";const M=U({__name:"BlobDetailPage",setup(K){const k=z(),c=R().params.id,n=f(c==="$"?J():c),i=f("text/plain"),s=f(),P=f($(n.value)),g=()=>{var o;k.replace((o=q(k,F.BLOB_PAGE))!=null?o:"")},S=async()=>{const o=document.createElement("input");o.type="file",o.multiple=!1,o.click(),o.addEventListener("input",()=>{var u;return s.value=(u=o.files)==null?void 0:u[0]})},I=async()=>{await(await D.create({header:"Saving item",message:'You are saving "'.concat(n.value,'", are you sure?'),buttons:[{text:"No",role:"cancel"},{text:"Yes",role:"confirm",handler:async()=>{var u,t;c==="$"?await A(n.value,await((u=s.value)==null?void 0:u.arrayBuffer()),i.value):await G(n.value,await((t=s.value)==null?void 0:t.arrayBuffer()),i.value),g()}}]})).present()},w=async()=>{await(await D.create({header:"Deleting item",message:'You are deleting "'.concat(n.value,'", are you sure?'),buttons:[{text:"No",role:"cancel"},{text:"Yes",role:"confirm",handler:async()=>{await j(n.value),g()}}]})).present()};return(o,u)=>(m(),p(e(Y),null,{default:l(()=>[a(e(H),{translucent:!0},{default:l(()=>[a(e(C),null,{default:l(()=>[a(e(v),{slot:"start",collapse:!0},{default:l(()=>[a(e(x),{defaultHref:".."})]),_:1}),a(e(V),{size:"large"},{default:l(()=>{var t;return[r(_((t=n.value)!=null?t:"Blob"),1)]}),_:1}),a(e(v),{slot:"end",collapse:!0},{default:l(()=>[a(e(d),{onClick:I,title:"Save"},{default:l(()=>[a(e(y),{slot:"icon-only",icon:e(N)},null,8,["icon"])]),_:1}),a(e(d),{onClick:w,title:"Delete"},{default:l(()=>[a(e(y),{slot:"icon-only",icon:e(h)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),a(e(L),{fullscreen:!0},{default:l(()=>[a(e(H),{collapse:"condense"},{default:l(()=>[a(e(C),null,{default:l(()=>[a(e(v),{slot:"start",collapse:!0},{default:l(()=>[a(e(x),{defaultHref:".."})]),_:1}),a(e(V),{size:"large"},{default:l(()=>{var t;return[r(_((t=n.value)!=null?t:"Blob"),1)]}),_:1}),a(e(v),{slot:"end",collapse:!0},{default:l(()=>[a(e(d),{onClick:I,title:"Save"},{default:l(()=>[a(e(y),{slot:"icon-only",icon:e(N)},null,8,["icon"])]),_:1}),a(e(d),{onClick:w,title:"Delete"},{default:l(()=>[a(e(y),{slot:"icon-only",icon:e(h)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),a(e(E),null,{default:l(()=>[a(e(B),null,{default:l(()=>[a(e(T),{label:"Key","label-placement":"stacked",disabled:e(c)!=="$",modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=t=>n.value=t)},null,8,["disabled","modelValue"])]),_:1}),a(e(d),{href:P.value,target:"_blank",download:""},{default:l(()=>[r("Download")]),_:1},8,["href"]),a(e(d),{onClick:S},{default:l(()=>[r("Upload")]),_:1}),s.value?(m(),p(e(B),{key:0},{default:l(()=>{var t;return[r("File Name: "+_((t=s.value)==null?void 0:t.name),1)]}),_:1})):b("",!0),s.value?(m(),p(e(B),{key:1},{default:l(()=>{var t;return[r("Size: "+_((t=s.value)==null?void 0:t.size)+" bytes",1)]}),_:1})):b("",!0),s.value?(m(),p(e(B),{key:2},{default:l(()=>[a(e(T),{label:"Content Type","label-placement":"stacked",modelValue:i.value,"onUpdate:modelValue":u[1]||(u[1]=t=>i.value=t)},null,8,["modelValue"])]),_:1})):b("",!0)]),_:1})]),_:1})]),_:1}))}});export{M as default};
