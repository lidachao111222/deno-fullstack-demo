import{d as H,A as P,B as $,r as p,C as h,D as R,c as S,w as l,u as e,j as Y,R as z,a as U,b as a,I as g,h as d,E as k,e as V,f as b,z as w,i,k as f,G as x,H as C,m as B,q as A,y as v,J as N,K as E,v as G,x as K,L as T,M as L,N as M,O}from"./index-DvYHsU7w.js";import{u as j}from"./index.esm-BA1fDT99.js";const Q=H({__name:"InfoDetailPage",setup(q){const I=P(),u=$().params.id,n=p(u==="$"?j():u),r=p("text/plain"),c=p();h(async()=>{await D()});const m=()=>{var o;I.replace((o=Y(I,z.INFO_PAGE))!=null?o:"")},D=async()=>{if(u!=="$")try{const o=await R(n.value);c.value=o.content,r.value=o.contentType}catch(o){m()}},_=async()=>{await(await T.create({header:"Saving item",message:'You are saving "'.concat(n.value,'", are you sure?'),buttons:[{text:"No",role:"cancel"},{text:"Yes",role:"confirm",handler:async()=>{u==="$"?await L(n.value,c.value,r.value):await M(n.value,c.value,r.value),m()}}]})).present()},y=async()=>{await(await T.create({header:"Deleting item",message:'You are deleting "'.concat(n.value,'", are you sure?'),buttons:[{text:"No",role:"cancel"},{text:"Yes",role:"confirm",handler:async()=>{await O(n.value),m()}}]})).present()};return(o,s)=>(U(),S(e(K),null,{default:l(()=>[a(e(B),{translucent:!0},{default:l(()=>[a(e(g),null,{default:l(()=>[a(e(d),{slot:"start",collapse:!0},{default:l(()=>[a(e(k),{defaultHref:".."})]),_:1}),a(e(V),{size:"large"},{default:l(()=>{var t;return[b(w((t=n.value)!=null?t:"Info"),1)]}),_:1}),a(e(d),{slot:"end",collapse:!0},{default:l(()=>[a(e(i),{onClick:_,title:"Save"},{default:l(()=>[a(e(f),{slot:"icon-only",icon:e(x)},null,8,["icon"])]),_:1}),a(e(i),{onClick:y,title:"Delete"},{default:l(()=>[a(e(f),{slot:"icon-only",icon:e(C)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),a(e(G),{fullscreen:!0},{default:l(()=>[a(e(B),{collapse:"condense"},{default:l(()=>[a(e(g),null,{default:l(()=>[a(e(d),{slot:"start",collapse:!0},{default:l(()=>[a(e(k),{defaultHref:".."})]),_:1}),a(e(V),{size:"large"},{default:l(()=>{var t;return[b(w((t=n.value)!=null?t:"Info"),1)]}),_:1}),a(e(d),{slot:"end",collapse:!0},{default:l(()=>[a(e(i),{onClick:_,title:"Save"},{default:l(()=>[a(e(f),{slot:"icon-only",icon:e(x)},null,8,["icon"])]),_:1}),a(e(i),{onClick:y,title:"Delete"},{default:l(()=>[a(e(f),{slot:"icon-only",icon:e(C)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),a(e(A),null,{default:l(()=>[a(e(v),null,{default:l(()=>[a(e(N),{label:"Key","label-placement":"stacked",disabled:e(u)!=="$",modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=t=>n.value=t)},null,8,["disabled","modelValue"])]),_:1}),a(e(v),null,{default:l(()=>[a(e(N),{label:"Content Type","label-placement":"stacked",modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=t=>r.value=t)},null,8,["modelValue"])]),_:1}),a(e(v),null,{default:l(()=>[a(e(E),{label:"Value","label-placement":"stacked","auto-grow":"",modelValue:c.value,"onUpdate:modelValue":s[2]||(s[2]=t=>c.value=t)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}))}});export{Q as default};
